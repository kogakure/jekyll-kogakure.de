//====================================
//  Mixin
//====================================

// Headlines
@mixin headings($from: 1, $to: 6) {
  %base-heading {
    @content;
  }

  @if $from >= 1 and $to <= 6 {
    @for $i from $from through $to {
      h#{$i} {
        @extend %base-heading;
      }
    }
  }
}

// Image masks
@mixin mask-image($img, $repeat: no-repeat) {
  width: image-width($img);
  height: image-height($img);
  @include experimental(mask-image, image-url($img), -webkit, -moz, -o, -ms);
  @include experimental(mask-repeat, $repeat, -webkit, -moz, -o, -ms);
}


// Box with shadow
@mixin shadow-box($border: $white .5em solid, $shadow: rgba($black, .15) 0 1px 4px, $border-radius: .3em) {
  border: $border;
  border-radius: $border-radius;
  box-shadow: $shadow;
  box-sizing: border-box;
}


// ::selection
@mixin selection($bg, $color: inherit, $text-shadow: none) {
  * {
    &::-moz-selection { background: $bg; color: $color; text-shadow: $text-shadow; }
    &::-webkit-selection { background: $bg; color: $color; text-shadow: $text-shadow; }
    &::selection { background: $bg; color: $color; text-shadow: $text-shadow; }
  }
}


// WebKit font-smoothing
//
// Referenzen:
//
// 1. http://maxvoltar.com/sandbox/fontsmoothing/
// 2. http://maxvoltar.com/archive/-webkit-font-smoothing
//
// Werte: none, antialiased (default), subpixel-antialiased
@mixin font-smoothing($value: antialiased) {
  -webkit-font-smoothing: $value !important;
}


// Quote marks for `blockquote` in different languages
@mixin pullquote-quotes($quotes) {
  quotes: $quotes;

  p:first-child:before {
    content: open-quote;
  }

  p:last-child:after {
    content: close-quote;
  }
}


// Quote marks for `q` in different languages
@mixin q-quotes($language, $quotes) {
  :lang(#{$language}) > q,
  .content q[lang|=#{$language}] {
    quotes: $quotes;
    @if $language == "ja" {
      font-style: normal;
    }
  }
}


// Background-Patterns

// 594x594, 16 KB (Background)
@mixin pattern-bright-squares {
  background-color: $site-background;
  background-image: url("/assets/images/stylesheets/patterns/bright_squares_@2X.jpg");
  background-size: 297px 297px;
}

@mixin pattern-bright-squares-bamboo {
  background-color: $site-background;
  background-image: url("/assets/images/svg/bamboo.svg"), url("/assets/images/stylesheets/patterns/bright_squares_@2X.jpg");
  background-repeat: no-repeat, repeat;
  background-size: 400px 252px, 297px 297px;

  @include breakpoint($grid-breakpoint-small) {
    background-size: $grid-breakpoint-small $grid-breakpoint-small / $bamboo-background-ratio, 297px 297px;
  }

  @include breakpoint($grid-breakpoint-medium) {
    background-size: $grid-breakpoint-medium $grid-breakpoint-medium / $bamboo-background-ratio, 297px 297px;
  }

  @include breakpoint($grid-breakpoint-large) {
    background-size: $grid-breakpoint-large $grid-breakpoint-large / $bamboo-background-ratio, 297px 297px;
  }

  @include breakpoint($grid-breakpoint-xlarge) {
    background-size: $grid-breakpoint-xlarge $grid-breakpoint-xlarge / $bamboo-background-ratio, 297px 297px;
  }
}

// 9x9, 16 KB (Paper)
@mixin pattern-stacked-circles {
  background-size: 9px 9px;
  background-image: url("/assets/images/stylesheets/patterns/stacked_circles_@2X.png");
}

// Link Colors (copied from Compass)
@mixin link-colors($normal, $hover: false, $active: false, $visited: false, $focus: false) {
  color: $normal;
  @if $visited {
    &:visited {
      color: $visited;
    }
  }
  @if $focus {
    &:focus {
      color: $focus;
    }
  }
  @if $hover {
    &:hover {
      color: $hover;
    }
  }
  @if $active {
    &:active {
      color: $active;
    }
  }
}
